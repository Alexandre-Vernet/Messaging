<div class="nk-app-root">
    <!-- main @s -->
    <div class="nk-main ">
        <!-- wrap @s -->
        <div class="nk-wrap nk-wrap-nosidebar">
            <!-- content @s -->
            <div class="nk-content ">
                <div class="nk-block nk-block-middle nk-auth-body wide-xs">

                    <div class="nk-block nk-block-lg">
                        <div class="brand-logo pb-4 text-center">
                            <img alt="logo" class="logo-img logo-img-lg" src="../../../../favicon.ico">
                        </div>
                        <div class="card card-bordered">
                            <div class="card-inner">
                                <div class="nk-block-head">
                                    <div class="nk-block-head-content">
                                        <h4 class="title nk-block-title">Sign-up</h4>
                                        <div class="nk-block-des">
                                            <p>Create new messaging account
                                            </p>
                                        </div>
                                    </div>
                                </div>
                                <form (ngSubmit)="form.valid && signUp()" [formGroup]="form"
                                      class="form-validate is-alter">
                                    <div class="row g-gs">
                                        <div class="col-md-6">

                                            <!-- First name -->
                                            <div class="form-group">
                                                <label class="form-label" for="firstName">First Name</label>
                                                <div class="form-control-wrap">
                                                    <input
                                                            [ngClass]="{'is-invalid': form.get('firstName')?.touched && form.get('firstName')?.invalid}"
                                                            class="form-control form-control-lg"
                                                            formControlName="firstName" id="firstName" placeholder="Bob"
                                                            type="text">
                                                    <div
                                                            *ngIf="form.get('firstName')?.touched && form.get('firstName')?.invalid"
                                                            class="invalid-feedback">
                                                        <div *ngIf="form.get('firstName')?.errors?.required">
                                                            First name is required
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>


                                        <!-- Last name -->
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label class="form-label" for="lastName">Last Name</label>
                                                <div class="form-control-wrap">
                                                    <input
                                                            [ngClass]="{'is-invalid': form.get('lastName')?.touched && form.get('lastName')?.invalid}"
                                                            class="form-control form-control-lg"
                                                            formControlName="lastName" id="lastName"
                                                            placeholder="Razowski"
                                                            type="text">

                                                    <div
                                                            *ngIf="form.get('lastName')?.touched && form.get('lastName')?.invalid"
                                                            class="invalid-feedback">
                                                        <div *ngIf="form.get('lastName')?.errors?.required">
                                                            Last name is required
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>


                                        <!-- Email -->
                                        <div class="col-12">
                                            <div class="form-group">
                                                <label class="form-label" for="email">Email</label>
                                                <input
                                                        [ngClass]="{'is-invalid': form.get('email')?.touched && form.get('email')?.invalid || firebaseError !== ''}"
                                                        class="form-control form-control-lg"
                                                        formControlName="email"
                                                        id="email" placeholder="bob.razowski@gmail.com"
                                                        type="email">

                                                <div
                                                        *ngIf="form.get('email')?.touched && form.get('email')?.invalid || firebaseError !== ''"
                                                        class="invalid-feedback">
                                                    <div *ngIf="form.get('email')?.errors?.required">
                                                        Email is required
                                                    </div>
                                                    <div *ngIf="form.get('email')?.errors?.email">
                                                        Email address is badly formatted
                                                    </div>
                                                    <div>
                                                        {{firebaseError}}
                                                    </div>
                                                </div>
                                            </div>
                                        </div>


                                        <!-- Password -->
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label class="form-label" for="password">Password</label>
                                                <div class="form-control-wrap">
                                                    <a (click)="viewPassword()"
                                                       class="form-icon form-icon-right passcode-switch">
                                                        <em class="passcode-icon icon-show icon ni ni-eye"></em>
                                                        <em class="passcode-icon icon-hide icon ni ni-eye-off"></em>
                                                    </a>
                                                    <input
                                                            [ngClass]="{'is-invalid': form.get('confirmPassword')?.touched && form.get('confirmPassword')?.invalid || form.get('confirmPassword')?.touched && form.value['password'] !== form.value['confirmPassword']}"
                                                            [type]="_viewPassword ? 'text' : 'password'"
                                                            class="form-control form-control-lg"
                                                            formControlName="password"
                                                            id="password"
                                                            placeholder="bob123">

                                                    <div
                                                            *ngIf="form.get('confirmPassword')?.touched && form.get('confirmPassword')?.invalid || form.get('confirmPassword')?.touched &&  form.value['password'] !== form.value['confirmPassword']"
                                                            class="invalid-feedback">
                                                        <div *ngIf="form.get('password')?.errors?.required">
                                                            Password is required
                                                        </div>
                                                        <div *ngIf="form.get('password')?.errors?.minlength">
                                                            Password should be at least 6 characters
                                                        </div>
                                                        <div
                                                                *ngIf="form.value['password'] !== form.value['confirmPassword']">
                                                            Passwords do not match
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Confirm password -->
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label class="form-label" for="confirmPassword">Confirm password</label>
                                                <input
                                                        [ngClass]="{'is-invalid': form.get('confirmPassword')?.touched && form.get('confirmPassword')?.invalid || form.get('confirmPassword')?.touched && form.value['password'] !== form.value['confirmPassword']}"
                                                        class="form-control form-control-lg"
                                                        formControlName="confirmPassword"
                                                        id="confirmPassword" placeholder="bob123"
                                                        type="password">

                                                <div
                                                        *ngIf="form.get('confirmPassword')?.touched && form.get('confirmPassword')?.invalid || form.get('confirmPassword')?.touched &&  form.value['password'] !== form.value['confirmPassword']"
                                                        class="invalid-feedback">
                                                    <div *ngIf="form.get('confirmPassword')?.errors?.required">
                                                        Confirm password is required
                                                    </div>
                                                    <div *ngIf="form.get('confirmPassword')?.errors?.minlength">
                                                        Confirm password should be at least 6 characters
                                                    </div>
                                                    <div
                                                            *ngIf="form.value['password'] !== form.value['confirmPassword']">
                                                        Passwords do not match
                                                    </div>
                                                </div>
                                            </div>
                                        </div>


                                        <!-- Submit -->
                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <button
                                                        [disabled]="!form.valid || form.value['password'] !== form.value['confirmPassword']"
                                                        class="btn btn-lg btn-primary btn-block my-3">Sign-up
                                                </button>
                                            </div>
                                            <div class="form-note-s2 text-center pt-4"> Already have an account ? <a
                                                    [routerLink]=" ['/sign-in'] "><strong>Sign in instead</strong></a>
                                            </div>
                                            <div class="text-center pt-4 pb-3">
                                                <h6 class="overline-title overline-title-sap"><span>OR</span></h6>
                                            </div>
                                            <ul class="nav justify-center gx-8">
                                                <ul class="nav justify-center gx-8">
                                                    <li class="nav-item"><a (click)="googleSignUp()"
                                                                            class="nav-link icon"
                                                                            href="#">Google</a></li>
                                                    <li class="nav-item"><a (click)="facebookSignUp()"
                                                                            class="nav-link icon"
                                                                            href="#">Facebook</a></li>
                                                    <li class="nav-item"><a (click)="githubSignUp()"
                                                                            class="nav-link icon"
                                                                            href="#">Github</a></li>
                                                </ul>
                                            </ul>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div><!-- .nk-block -->
                </div>

            </div>
            <!-- wrap @e -->
        </div>
        <!-- content @e -->
    </div>
    <!-- main @e -->
</div>
